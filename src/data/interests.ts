// Comprehensive interests database with categories and related terms
export const interestCategories = {
  'Creative & Arts': [
    'Painting', 'Drawing', 'Photography', 'Digital Art', 'Sculpture',
    'Writing', 'Poetry', 'Blogging', 'Creative Writing', 'Journalism',
    'Music', 'Playing Instruments', 'Singing', 'Music Production', 'DJing',
    'Dance', 'Ballet', 'Hip Hop', 'Contemporary Dance', 'Salsa',
    'Theater', 'Acting', 'Improv', 'Stand-up Comedy', 'Film Making',
    'Crafts', 'Pottery', 'Knitting', 'Sewing', 'Jewelry Making',
    'Design', 'Graphic Design', 'Fashion Design', 'Interior Design',
  ],
  
  'Culture & Travel': [
    'Travel', 'Backpacking', 'Road Trips', 'International Travel',
    'Cultural Exchange', 'Language Learning', 'Local Exploration',
    'Food Tourism', 'Adventure Travel', 'Eco-Tourism', 'Volunteering Abroad',
    'Museums', 'Art Galleries', 'Historical Sites', 'Architecture',
    'Different Cultures', 'Anthropology', 'World Music', 'International Cuisine',
  ],
  
  'Tech & Digital': [
    'Technology', 'Programming', 'Web Development', 'App Development',
    'Artificial Intelligence', 'Machine Learning', 'Data Science',
    'Cybersecurity', 'Blockchain', 'Cryptocurrency', 'NFTs',
    'Gaming', 'Video Games', 'PC Gaming', 'Console Gaming', 'Mobile Gaming',
    'VR/AR', 'Virtual Reality', 'Augmented Reality', 'Metaverse',
    'Gadgets', 'Smart Home', 'Robotics', '3D Printing',
    'Digital Marketing', 'Social Media', 'Content Creation', 'Streaming',
  ],
  
  'Sports & Fitness': [
    'Fitness', 'Gym', 'Weight Training', 'Cardio', 'CrossFit',
    'Yoga', 'Pilates', 'Meditation', 'Mindfulness', 'Tai Chi',
    'Running', 'Marathon', 'Trail Running', 'Jogging', 'Sprinting',
    'Cycling', 'Mountain Biking', 'Road Cycling', 'Spinning',
    'Swimming', 'Surfing', 'Diving', 'Water Polo', 'Kayaking',
    'Team Sports', 'Basketball', 'Soccer', 'Football', 'Baseball',
    'Tennis', 'Golf', 'Badminton', 'Table Tennis', 'Squash',
    'Martial Arts', 'Boxing', 'MMA', 'Karate', 'Jiu-Jitsu',
    'Climbing', 'Rock Climbing', 'Bouldering', 'Mountaineering',
    'Winter Sports', 'Skiing', 'Snowboarding', 'Ice Skating',
  ],
  
  'Learning & Hobbies': [
    'Reading', 'Books', 'Literature', 'Fiction', 'Non-fiction',
    'Learning', 'Online Courses', 'Workshops', 'Seminars', 'MOOCs',
    'Languages', 'Spanish', 'French', 'Mandarin', 'Japanese',
    'Philosophy', 'Psychology', 'History', 'Science', 'Mathematics',
    'Podcasts', 'Audiobooks', 'Documentaries', 'TED Talks',
    'Board Games', 'Chess', 'Strategy Games', 'Puzzles', 'Trivia',
    'Collecting', 'Vintage Items', 'Comics', 'Trading Cards', 'Antiques',
  ],
  
  'Entertainment & Media': [
    'Movies', 'Cinema', 'Film', 'Independent Films', 'Documentaries',
    'TV Shows', 'Series', 'Binge Watching', 'Netflix', 'Streaming',
    'Anime', 'Manga', 'K-Pop', 'K-Drama', 'J-Pop',
    'Comedy', 'Stand-up', 'Improv', 'Sketch Comedy', 'Satire',
    'Music Festivals', 'Concerts', 'Live Music', 'DJ Sets', 'Raves',
    'Broadway', 'Musicals', 'Opera', 'Ballet', 'Symphony',
  ],
  
  'Food & Drink': [
    'Cooking', 'Baking', 'Grilling', 'BBQ', 'Meal Prep',
    'Fine Dining', 'Restaurants', 'Food Trucks', 'Street Food',
    'Wine', 'Wine Tasting', 'Sommelier', 'Vineyards', 'Wine Making',
    'Coffee', 'Coffee Culture', 'Barista', 'Espresso', 'Latte Art',
    'Craft Beer', 'Brewing', 'Beer Tasting', 'Microbreweries',
    'Cocktails', 'Mixology', 'Bartending', 'Speakeasies',
    'Vegetarian', 'Vegan', 'Plant-based', 'Organic Food', 'Farm to Table',
    'International Cuisine', 'Sushi', 'Italian', 'Mexican', 'Thai',
  ],
  
  'Outdoor & Nature': [
    'Hiking', 'Backpacking', 'Camping', 'Wilderness', 'National Parks',
    'Nature', 'Wildlife', 'Bird Watching', 'Nature Photography',
    'Gardening', 'Urban Gardening', 'Permaculture', 'Landscaping',
    'Beach', 'Ocean', 'Sunbathing', 'Beach Volleyball', 'Sandcastles',
    'Fishing', 'Fly Fishing', 'Deep Sea Fishing', 'Ice Fishing',
    'Hunting', 'Archery', 'Shooting Sports', 'Target Shooting',
    'Astronomy', 'Star Gazing', 'Astrophotography', 'Telescopes',
  ],
  
  'Social & Community': [
    'Volunteering', 'Community Service', 'Charity Work', 'Fundraising',
    'Social Activism', 'Environmental Activism', 'Political Activism',
    'Networking', 'Professional Development', 'Entrepreneurship',
    'Public Speaking', 'Toastmasters', 'Debate', 'Model UN',
    'Event Planning', 'Party Planning', 'Wedding Planning', 'Hosting',
    'Mentoring', 'Coaching', 'Teaching', 'Tutoring', 'Youth Work',
  ],
  
  'Wellness & Lifestyle': [
    'Self-care', 'Spa', 'Massage', 'Aromatherapy', 'Relaxation',
    'Fashion', 'Style', 'Shopping', 'Thrifting', 'Vintage Fashion',
    'Beauty', 'Makeup', 'Skincare', 'Hair Care', 'Nails',
    'Minimalism', 'Organization', 'Marie Kondo', 'Decluttering',
    'Sustainability', 'Zero Waste', 'Eco-friendly', 'Green Living',
    'Personal Finance', 'Investing', 'Stock Market', 'Real Estate',
    'Self-improvement', 'Life Coaching', 'Motivation', 'Goal Setting',
  ],
  
  'Automotive & Transportation': [
    'Cars', 'Classic Cars', 'Sports Cars', 'Car Racing', 'Formula 1',
    'Motorcycles', 'Motorbikes', 'Harley Davidson', 'Dirt Bikes',
    'Aviation', 'Flying', 'Pilots', 'Airplanes', 'Helicopters',
    'Boats', 'Sailing', 'Yachting', 'Powerboats', 'Jet Skiing',
    'Trains', 'Model Trains', 'Train Spotting', 'Rail Travel',
  ],
  
  'Games & Competition': [
    'Esports', 'Competitive Gaming', 'Tournaments', 'LAN Parties',
    'Card Games', 'Poker', 'Blackjack', 'Magic the Gathering',
    'Trivia', 'Quiz Nights', 'Pub Trivia', 'Knowledge Competitions',
    'Fantasy Sports', 'Fantasy Football', 'Fantasy Basketball',
    'Escape Rooms', 'Mystery Games', 'Murder Mystery', 'ARGs',
  ],
};

// Related terms mapping for intelligent suggestions
const relatedTerms: Record<string, string[]> = {
  // Creative
  'art': ['painting', 'drawing', 'sculpture', 'gallery', 'museums', 'creative', 'design'],
  'music': ['concerts', 'festivals', 'instruments', 'singing', 'bands', 'spotify', 'vinyl'],
  'writing': ['blogging', 'poetry', 'journalism', 'books', 'reading', 'literature'],
  'photo': ['photography', 'camera', 'instagram', 'portraits', 'landscapes'],
  
  // Active
  'fitness': ['gym', 'workout', 'exercise', 'health', 'running', 'yoga', 'weights'],
  'sports': ['basketball', 'soccer', 'tennis', 'golf', 'team sports', 'athletics'],
  'outdoor': ['hiking', 'camping', 'nature', 'mountains', 'trails', 'adventure'],
  
  // Social
  'social': ['networking', 'events', 'parties', 'meetups', 'friends', 'community'],
  'food': ['cooking', 'restaurants', 'dining', 'cuisine', 'wine', 'coffee'],
  'travel': ['adventure', 'culture', 'exploration', 'backpacking', 'countries'],
  
  // Tech
  'tech': ['technology', 'programming', 'gadgets', 'innovation', 'startups', 'apps'],
  'game': ['gaming', 'video games', 'esports', 'playstation', 'xbox', 'nintendo'],
  'crypto': ['blockchain', 'bitcoin', 'nft', 'defi', 'web3', 'ethereum'],
  
  // Lifestyle
  'fashion': ['style', 'clothing', 'shopping', 'trends', 'vintage', 'designer'],
  'wellness': ['meditation', 'mindfulness', 'self-care', 'mental health', 'spirituality'],
  'learning': ['education', 'courses', 'skills', 'knowledge', 'growth', 'development'],
};

// Get all unique interests as a flat array
export const allInterests = Array.from(new Set(
  Object.values(interestCategories).flat()
)).sort();

// Function to search interests with intelligent suggestions
export function searchInterests(query: string, limit: number = 15): string[] {
  if (!query || query.length < 1) return [];
  
  const lowerQuery = query.toLowerCase().trim();
  const results = new Set<string>();
  
  // 1. Exact matches (starts with query)
  allInterests.forEach(interest => {
    if (interest.toLowerCase().startsWith(lowerQuery)) {
      results.add(interest);
    }
  });
  
  // 2. Related terms from mapping
  Object.entries(relatedTerms).forEach(([key, related]) => {
    if (key.includes(lowerQuery) || lowerQuery.includes(key)) {
      related.forEach(term => {
        const matchingInterests = allInterests.filter(i => 
          i.toLowerCase().includes(term)
        );
        matchingInterests.forEach(i => results.add(i));
      });
    }
  });
  
  // 3. Contains query (partial matches)
  allInterests.forEach(interest => {
    if (!results.has(interest) && interest.toLowerCase().includes(lowerQuery)) {
      results.add(interest);
    }
  });
  
  // 4. Category-based suggestions
  Object.entries(interestCategories).forEach(([category, interests]) => {
    if (category.toLowerCase().includes(lowerQuery)) {
      interests.slice(0, 5).forEach(i => results.add(i));
    }
  });
  
  return Array.from(results).slice(0, limit);
}

// Get random suggestions from different categories
export function getRandomSuggestions(count: number = 12, excludeInterests: string[] = []): string[] {
  const categories = Object.keys(interestCategories);
  const suggestions: string[] = [];
  const exclude = new Set(excludeInterests.map(i => i.toLowerCase()));
  
  // Get 1-2 interests from each category randomly
  categories.forEach(category => {
    const categoryInterests = interestCategories[category as keyof typeof interestCategories];
    const available = categoryInterests.filter(i => !exclude.has(i.toLowerCase()));
    
    if (available.length > 0) {
      const numToTake = Math.min(2, available.length);
      for (let i = 0; i < numToTake && suggestions.length < count; i++) {
        const randomIndex = Math.floor(Math.random() * available.length);
        const interest = available[randomIndex];
        if (!suggestions.includes(interest)) {
          suggestions.push(interest);
        }
      }
    }
  });
  
  return suggestions.slice(0, count);
}